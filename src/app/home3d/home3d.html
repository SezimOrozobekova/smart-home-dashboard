<div class="layout">
  <section class="board">
    <header class="board__header">
      <div class="board__title">
        <div class="board__pill">3D</div>
        <div>
          <div class="board__h">Home Model</div>
          <div class="board__sub">Rotate â€¢ Zoom â€¢ Click device</div>
        </div>
      </div>
    </header>

    <div class="board__stage" #canvasHost></div>
  </section>

  <aside class="panel">
    <div class="rooms">
      <div class="rooms__title">Rooms</div>

      <button
        class="room-btn"
        *ngFor="let room of rooms"
        [class.active]="room.id === currentRoomId"
        (click)="selectRoom(room)"
      >
        {{ room.name }}
      </button>
    </div>

    <div class="panel__body">
      <div class="row">
        <div class="label">Name</div>
        <div class="value">{{ panel.name }}</div>
      </div>

      <div class="row">
        <div class="label">Type</div>
        <div class="value">{{ panel.type }}</div>
      </div>

      <div class="row">
        <div class="label">Status</div>
        <div class="value">{{ panel.status }}</div>
      </div>

      <!-- FRIDGE -->
      <div *ngIf="isFridgeSelected" class="device-card fridge">
        <div class="card-header">
          <span class="icon">â„ï¸</span>
          <span>Refrigerator</span>
        </div>

        <div class="card-main">
          <div class="big-value">
            {{ fridgeTemperature }}Â°C
          </div>
          <div class="subtitle">Current temperature</div>
        </div>

        <div class="card-controls">
          <button (click)="changeFridgeTemp(-1)">âˆ’</button>
          <button (click)="changeFridgeTemp(1)">+</button>
        </div>

        <div class="range">
          <span>-18Â°C</span>
          <span>8Â°C</span>
        </div>
      </div>


      <!-- STOVE -->
      <div *ngIf="isStoveSelected" class="device-card stove">
        <div class="card-header">
          <span class="icon">ğŸ”¥</span>
          <span>Stove</span>
        </div>

        <div class="card-main">
          <div class="big-value">
            {{ stoveTemperature }}Â°C
          </div>
          <div class="subtitle">Heating temperature</div>
        </div>

        <div class="card-controls">
          <button (click)="changeStoveTemp(-10)">âˆ’</button>
          <button (click)="changeStoveTemp(10)">+</button>
        </div>
      </div>


      <!-- KETTLE -->
      <div *ngIf="isKettleSelected" class="device-card kettle">
        <div class="card-header">
          <span class="icon">â˜•</span>
          <span>Kettle</span>
        </div>

        <div class="card-main">
          <div class="big-value">
            {{ kettleTimeLeft }}s
          </div>
          <div class="subtitle">Time remaining</div>
        </div>

        <div class="progress">
          <div
            class="progress-bar"
            [style.width.%]="(kettleTimeLeft / 120) * 100"
          ></div>
        </div>
      </div>

      <!-- LAMP -->
      <div *ngIf="panel.type === 'lamp'" class="lamp-card">
        <h3>Bathroom Light</h3>

        <button (click)="toggleLamp()">
          {{ panel.status === 'ON' ? 'Turn off' : 'Turn on' }}
        </button>

        <div class="lamp-section">
          <div class="lamp-label">Color</div>

          <div class="color-palette">
            <span
              *ngFor="let c of ['#ffffff', '#ffdca8', '#60a5fa', '#22c55e', '#a855f7']"
              [style.background]="c"
              (click)="setLampColor(c)"
            ></span>
          </div>
        </div>
      </div>

    </div>
  </aside>
</div>
